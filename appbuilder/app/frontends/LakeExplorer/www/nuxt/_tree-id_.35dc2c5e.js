import{b as f,o as r,e as i,f as c,t as _,l as m,h as S,m as g,F as x,r as y,c as p,p as v,q as F,i as h}from"./entry.e4685ebd.js";const I={name:"IdentificationKeyReference",props:{reference:{type:Object,required:!0}}},b=["src","alt"],k={class:"py-2"};function K(t,a,e,n,u,o){return r(),i("div",{class:"flex flex-col cursor-pointer",onClick:a[0]||(a[0]=s=>t.$emit("select",e.reference))},[c("img",{src:`/${e.reference.imageUrl}`,alt:e.reference.name},null,8,b),c("h3",k,_(e.reference.name),1)])}const M=f(I,[["render",K]]),N={name:"MatrixFilterSpace",props:{space:{type:Object,required:!0}},methods:{toggleSelect(){this.space.isSelected?this.space.deselect():this.space.select()}}},R=["src"];function q(t,a,e,n,u,o){const s=m("GlossaryTranslatable");return r(),i("div",{class:g([e.space.isSelected?"border-2 border-purple-500":"","flex flex-col"]),onClick:a[0]||(a[0]=(...d)=>o.toggleSelect&&o.toggleSelect(...d))},[c("img",{src:`/${e.space.imageUrl}`},null,8,R),S(s,{value:e.space.encodedSpace},null,8,["value"]),c("span",null," Selected: "+_(e.space.isSelected)+", Possible: "+_(e.space.isPossible),1)],2)}const C=f(N,[["render",q]]),G={name:"MatrixFilter",components:{MatrixFilterSpace:C},props:{filter:{type:Object,required:!0}}},j={class:"columns-3"};function w(t,a,e,n,u,o){const s=m("MatrixFilterSpace");return r(),i("div",null,[c("h2",null,_(e.filter.name),1),c("div",j,[(r(!0),i(x,null,y(e.filter.space,(d,l)=>(r(),p(s,{key:`${d.matrixFilter.uuid}_space_${l}`,space:d},null,8,["space"]))),128))])])}const B=f(G,[["render",w]]),O={name:"IdentificationKey",components:{MatrixFilter:B,IdentificationKeyReference:M},props:{id:{type:String,required:!0},node:{type:Object,required:!0}}},T={class:"columns-3"};function U(t,a,e,n,u,o){const s=m("IdentificationKeyReference"),d=m("MatrixFilter");return r(),i("div",null,[c("h2",null,_(e.node.name),1),c("div",T,[(r(!0),i(x,null,y(e.node.filteredChildren,l=>(r(),p(s,{key:l.uuid,reference:l,onSelect:$=>t.$emit("select",l)},null,8,["reference","onSelect"]))),128))]),c("div",null,[(r(!0),i(x,null,y(e.node.matrixFilters,(l,$)=>(r(),p(d,{key:$,filter:l},null,8,["filter"]))),128))])])}const V=f(O,[["render",U]]),P={components:{IdentificationKey:V},async setup(){const t=v(),{natureguideid:a,treeid:e}=t.params,n=F();return await n.loadNatureGuide(a),n.loadNode(e),{node:n.currentNode,nodeId:n.currentNodeId}},methods:{async selectReference(t){switch(t.nodeType){case"node":return await this.$router.push({name:"nature-guide-natureguideid-treeid",params:{natureguideid:this.$route.params.natureguideid,treeid:t.uuid}});case"result":return await this.$router.push({name:"taxon-profile-taxon-id",params:{taxonid:t.taxon.taxonSource,id:t.taxon.nameUuid}})}}}},z={key:0,class:"container mx-auto px-4"};function D(t,a,e,n,u,o){const s=m("IdentificationKey");return n.node?(r(),i("div",z,[n.node?(r(),p(s,{key:0,id:n.nodeId,node:n.node,class:"mt-4",onSelect:o.selectReference},null,8,["id","node","onSelect"])):h("",!0)])):h("",!0)}const L=f(P,[["render",D]]);export{L as default};
