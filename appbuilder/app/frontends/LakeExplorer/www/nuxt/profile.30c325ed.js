import{_ as V,a as m}from"./FormWrapper.vue_vue_type_script_setup_true_lang.ff311a79.js";import{a as p,x as h,i as f,r as x,o as _,e as b,f as o,k as n,l as d,$ as k,u as t,q as N}from"./entry.c86999db.js";import{_ as g}from"./Modal.vue_vue_type_script_setup_true_lang.09854033.js";import{c as w}from"./initializers.1e869a60.js";import"./Icon.vue_vue_type_script_setup_true_lang.508827c7.js";import"./_plugin-vue_export-helper.af303bb4.js";const y=o("div",null,[o("h1",null,"Willst du dein Profil wirklich l\xF6schen?"),o("p",null," Das L\xF6schen ist final und kann nicht r\xFCckg\xE4ngig gemacht werden! ")],-1),C=p({__name:"ProfileDeleteModal",setup(v){const i=h(),e=f(),r=x(!1),s=async()=>{await k()("/user/delete/",{method:"DELETE"}),await e.logout(),await i.push({name:"index"})};return(c,u)=>(_(),b("div",null,[o("button",{class:"btn btn-error",onClick:u[0]||(u[0]=a=>r.value=!0)}," L\xF6schen "),n(g,null,{actions:d(()=>[o("button",{class:"btn btn-error",onClick:s}," L\xF6schen "),o("button",{class:"btn",onClick:u[1]||(u[1]=a=>r.value=!1)}," Schlie\xDFen ")]),default:d(()=>[y]),_:1})]))}}),B=p({__name:"profile",setup(v){const i=f(),{account:e,validation:r}=w(i.user),s=x(!1),c=async()=>{s.value||(s.value=!0,await i.updateUser(e.value),s.value=!1)};return(u,a)=>(_(),b("div",null,[n(V,{validation:t(r),onSubmit:c},{actions:d(()=>[o("input",{type:"submit",value:"Speichern",class:N(["btn",t(s)?"loading":""])},null,2),n(C)]),default:d(()=>[n(m,{modelValue:t(e).username,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).username=l),name:"username",label:"Benutzername",type:"text"},null,8,["modelValue"]),n(m,{modelValue:t(e).email,"onUpdate:modelValue":a[1]||(a[1]=l=>t(e).email=l),name:"email",label:"Email",type:"email"},null,8,["modelValue"]),n(m,{modelValue:t(e).firstName,"onUpdate:modelValue":a[2]||(a[2]=l=>t(e).firstName=l),name:"firstName",label:"Vorname",type:"text"},null,8,["modelValue"]),n(m,{modelValue:t(e).lastName,"onUpdate:modelValue":a[3]||(a[3]=l=>t(e).lastName=l),name:"lastName",label:"Nachname",type:"text"},null,8,["modelValue"])]),_:1},8,["validation"])]))}});export{B as default};
